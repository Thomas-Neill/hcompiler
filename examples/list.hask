type node = {head:int,tail:list};
type list = {null:{} | cons: node};

null() -> list = unionize<list>(null={});
cons(head:int,tail:list) -> list = unionize<list>(cons={head=head,tail=tail});

sum(x:list) -> int =
  case<list> {x} of {
    ignore:null = 0;
    node:cons = node.head + sum(node.tail);
};

main() -> int = sum(cons(1,cons(2,cons(3,null()))));
